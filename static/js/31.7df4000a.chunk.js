"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[31],{3031:function(t,e,n){n.r(e),n.d(e,{default:function(){return I}});var a=n(2791),r=n(9434),s=n(885),o={form:"ContactForm_form__dhl+T",text:"ContactForm_text__kqq6l",input:"ContactForm_input__Bl93P",btn:"ContactForm_btn__wll+u"},i=n(184),c=function(t){var e=t.addContact,n=(0,a.useState)(""),r=(0,s.Z)(n,2),c=r[0],l=r[1],u=(0,a.useState)(""),d=(0,s.Z)(u,2),m=d[0],_=d[1];return(0,i.jsx)("div",{className:o.contactForm,children:(0,i.jsxs)("form",{className:o.form,onSubmit:function(t){t.preventDefault(),e(c,m),l(""),_("")},children:[(0,i.jsx)("p",{className:o.text,children:"Name"}),(0,i.jsx)("input",{className:o.input,type:"text",name:"name",value:c,onChange:function(t){var e=t.target.value;l(e)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,i.jsx)("p",{className:o.text,children:"Number"}),(0,i.jsx)("input",{className:o.input,type:"tel",name:"number",value:m,onChange:function(t){var e=t.target.value;_(e)},pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:o.btn,type:"submit",children:"Add contact"})})]})})},l="ContactListItem_item__UAAix",u="ContactListItem_text__QXs1+",d="ContactListItem_btn__Kdzd+",m=function(t){var e=t.name,n=t.phone,a=t.id,r=t.deleteContact;return(0,i.jsxs)("li",{className:l,children:[(0,i.jsx)("p",{className:u,children:e+": "+n}),(0,i.jsx)("button",{className:d,value:a,onClick:r,children:"Delete"})]})},_="ContactList_list__csErn",h=function(t){var e=t.contacts,n=t.deleteContact;return(0,i.jsx)("ul",{className:_,children:(null===e||void 0===e?void 0:e.length)&&e.map((function(t){var e=t||{},a=e.name,r=e.number,s=e.id;return(0,i.jsx)(m,{name:a,phone:r,deleteContact:n,id:s},s)}))})},f="Filter_wrap__Rb02z",v="Filter_text__uqQRu",x="Filter_input__N7T3z",p=function(t){var e=t.filter,n=void 0===e?"":e,a=t.setFilter;return(0,i.jsxs)("div",{className:f,children:[(0,i.jsx)("p",{className:v,children:"Find contacts by name"}),(0,i.jsx)("input",{className:x,type:"text",value:n,onChange:a})]})},j=n(4691),C=function(){return(0,i.jsx)(j.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})},b=n(4558),g=n(7084),N={},k=n(1413),F=n(7689);var w=function(t,e){return function(n){var a=localStorage.getItem("token");return Boolean(a)?(0,i.jsx)(t,(0,k.Z)({},n)):(0,i.jsx)(F.Fg,{to:e})}},L=n(3414),y="UserMenu_text__BE4m4",A="UserMenu_btn__cDmR5",z=function(){var t=(0,r.v9)((function(t){var e,n,a;return null===(e=t.user)||void 0===e||null===(n=e.user)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.email})),e=(0,r.I0)();return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:y,children:t}),(0,i.jsx)("button",{className:A,onClick:function(){e((0,L.ni)())},children:"Log Out"})]})},I=w((function(){var t=(0,r.v9)((function(t){return t.contacts.contacts})),e=t.items,n=t.isLoadingContacts,s=t.error,o=(0,r.v9)((function(t){return t.user.user})),l=(0,r.v9)((function(t){return t.filter.filter})),u=(0,F.s0)(),d=(0,r.I0)();(0,a.useEffect)((function(){d((0,L.v0)()),d((0,b.K2)())}),[d]);var m=localStorage.getItem("token");return(0,a.useEffect)((function(){m||u("/login")}),[o,u,m]),(0,i.jsxs)(i.Fragment,{children:[m&&(0,i.jsx)(z,{}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:N.mainTitle,children:"Phonebook"}),(0,i.jsx)(c,{addContact:function(t,n){e.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))?alert("".concat(t," is already in contacts.")):d((0,b.uK)({name:t,number:n}))}}),(0,i.jsx)("h2",{className:N.title,children:"Contacts"}),(0,i.jsx)(p,{filter:l,setFilter:function(t){var e=t.target.value;d((0,g.Tv)(e))}}),s&&(0,i.jsxs)("p",{children:["Upss, Some error occured... ",s]}),n?(0,i.jsx)(C,{}):(0,i.jsx)(h,{contacts:e.filter((function(t){return t.name.toLowerCase().includes(l.trim().toLowerCase())})),deleteContact:function(t){d((0,b.GK)(t.target.value))}})]})]})}),"/login")}}]);
//# sourceMappingURL=31.7df4000a.chunk.js.map